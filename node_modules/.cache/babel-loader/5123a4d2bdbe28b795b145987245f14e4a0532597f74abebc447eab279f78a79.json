{"ast":null,"code":"var _jsxFileName = \"C:\\\\react\\\\acusense\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { upload } from '@testing-library/user-event/dist/upload';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [progress, setProgress] = useState({\n    started: false,\n    pc: 0\n  });\n  const [msg, setMsg] = useState(null);\n  function handleUpload() {\n    if (!file) {\n      console.log(\"No file selected\");\n      return;\n    }\n    const fd = new FormData();\n    fd.append('file', file);\n    setMsg(\"Uploading...\");\n    setProgress(prevState => {\n      return {\n        ...prevState,\n        started: true\n      };\n    });\n    axios.post('http://httpbin.org/post', fd, {\n      onUploadProgress: progressEvent => {\n        setProgress(prevState => {\n          return {\n            ...prevState,\n            pc: progressEvent.progress * 100\n          };\n        });\n      },\n      headers: {\n        \"Custom-Header\": \"value\"\n      }\n    }).then(res => {\n      setMsg(\"upload successful\");\n      console.log(res.data);\n    }).catch(err => {\n      setMsg(\"upload failed\");\n      console.error(err);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"File Upload \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: e => {\n        setFile(e.target.files[0]);\n      },\n      type: \"file\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      children: \" Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), progress.started && /*#__PURE__*/_jsxDEV(\"progress\", {\n      max: \"100\",\n      value: progress.pc\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+VU3RkZxZMbuJqyKV1Mpr+qoeBo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","axios","upload","jsxDEV","_jsxDEV","App","_s","file","setFile","progress","setProgress","started","pc","msg","setMsg","handleUpload","console","log","fd","FormData","append","prevState","post","onUploadProgress","progressEvent","headers","then","res","data","catch","err","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","files","type","onClick","max","value","_c","$RefreshReg$"],"sources":["C:/react/acusense/src/App.js"],"sourcesContent":["\nimport React, {  useState } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { upload } from '@testing-library/user-event/dist/upload';\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [progress, setProgress] = useState({started: false,pc:0});\n  const [msg, setMsg] = useState(null);\n \n\n\nfunction handleUpload(){\n  if(!file){\n    console.log(\"No file selected\")\n    return\n  }\nconst fd = new FormData();\nfd.append('file',file);\nsetMsg(\"Uploading...\")\nsetProgress(prevState =>{\n  return{...prevState,started:true}\n})\naxios.post('http://httpbin.org/post',fd,{\nonUploadProgress: (progressEvent) => {setProgress(prevState => {\n  return {...prevState, pc:progressEvent.progress*100}\n})},\nheaders: {\"Custom-Header\" : \"value\",\n  }\n})\n.then(res =>  {\n  setMsg(\"upload successful\")\n  console.log(res.data)\n})\n.catch(err =>{\n  setMsg(\"upload failed\")\n  console.error(err)} );\n}\n  return (\n    <div className='App'>\n      <h1>File Upload </h1>\n    <input onChange={ (e) => {setFile(e.target.files[0]) } } type =\"file\"/>\n    <button>Upload</button>\n    <button onClick={handleUpload} > Upload</button>\n   {progress.started && <progress max=\"100\" value ={progress.pc}></progress>}\n   {msg && <span>{msg}</span>}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AACA,OAAOA,KAAK,IAAKC,QAAQ,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;AAClB,SAASC,MAAM,QAAQ,yCAAyC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACjE,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC;IAACW,OAAO,EAAE,KAAK;IAACC,EAAE,EAAC;EAAC,CAAC,CAAC;EAC/D,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAItC,SAASe,YAAYA,CAAA,EAAE;IACrB,IAAG,CAACR,IAAI,EAAC;MACPS,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/B;IACF;IACF,MAAMC,EAAE,GAAG,IAAIC,QAAQ,CAAC,CAAC;IACzBD,EAAE,CAACE,MAAM,CAAC,MAAM,EAACb,IAAI,CAAC;IACtBO,MAAM,CAAC,cAAc,CAAC;IACtBJ,WAAW,CAACW,SAAS,IAAG;MACtB,OAAM;QAAC,GAAGA,SAAS;QAACV,OAAO,EAAC;MAAI,CAAC;IACnC,CAAC,CAAC;IACFV,KAAK,CAACqB,IAAI,CAAC,yBAAyB,EAACJ,EAAE,EAAC;MACxCK,gBAAgB,EAAGC,aAAa,IAAK;QAACd,WAAW,CAACW,SAAS,IAAI;UAC7D,OAAO;YAAC,GAAGA,SAAS;YAAET,EAAE,EAACY,aAAa,CAACf,QAAQ,GAAC;UAAG,CAAC;QACtD,CAAC,CAAC;MAAA,CAAC;MACHgB,OAAO,EAAE;QAAC,eAAe,EAAG;MAC1B;IACF,CAAC,CAAC,CACDC,IAAI,CAACC,GAAG,IAAK;MACZb,MAAM,CAAC,mBAAmB,CAAC;MAC3BE,OAAO,CAACC,GAAG,CAACU,GAAG,CAACC,IAAI,CAAC;IACvB,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,IAAG;MACXhB,MAAM,CAAC,eAAe,CAAC;MACvBE,OAAO,CAACe,KAAK,CAACD,GAAG,CAAC;IAAA,CAAE,CAAC;EACvB;EACE,oBACE1B,OAAA;IAAK4B,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClB7B,OAAA;MAAA6B,QAAA,EAAI;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvBjC,OAAA;MAAOkC,QAAQ,EAAIC,CAAC,IAAK;QAAC/B,OAAO,CAAC+B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;MAAC,CAAG;MAACC,IAAI,EAAE;IAAM;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eACvEjC,OAAA;MAAA6B,QAAA,EAAQ;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACvBjC,OAAA;MAAQuC,OAAO,EAAE5B,YAAa;MAAAkB,QAAA,EAAE;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAChD5B,QAAQ,CAACE,OAAO,iBAAIP,OAAA;MAAUwC,GAAG,EAAC,KAAK;MAACC,KAAK,EAAGpC,QAAQ,CAACG;IAAG;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAW,CAAC,EACxExB,GAAG,iBAAIT,OAAA;MAAA6B,QAAA,EAAOpB;IAAG;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpB,CAAC;AAEV;AAAC/B,EAAA,CA3CQD,GAAG;AAAAyC,EAAA,GAAHzC,GAAG;AA6CZ,eAAeA,GAAG;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}